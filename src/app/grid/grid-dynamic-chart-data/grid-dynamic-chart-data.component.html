<div igxOverlayOutlet class="grid-wrapper" (window:click)="disableContextMenu()">
    <igx-grid #grid primaryKey='ID' displayDensity="compact" [data]="data" [autoGenerate]="false" (onContextMenu)="rightClick($event)">
        <igx-column field='ID' [hidden]='true'></igx-column>
        <igx-column field='Category' [sortable]='true'></igx-column>
        <igx-column field='Type' [sortable]='true' [filterable]='false'>
        </igx-column>
        <igx-column field='Contract' [sortable]='true'></igx-column>
        <igx-column field='Settlement' [width]="'150px'" [sortable]='true'></igx-column>
        <igx-column field='Region' [sortable]='true'></igx-column>
        <igx-column field='Country' [sortable]='true'></igx-column>
        <igx-column field='Price' dataType="number" [cellClasses]="trends" [movable]="true" [sortable]="true">
            <ng-template igxCell let-cell="cell">
                <div class="finjs-icons">
                    <span>{{cell.value | currency:'USD':'symbol':'1.4-4'}}</span>
                    <igx-icon *ngIf="trends.positive(cell.row.rowData)">trending_up</igx-icon>
                    <igx-icon *ngIf="trends.negative(cell.row.rowData)">trending_down</igx-icon>
                </div>
            </ng-template>
        </igx-column>
        <igx-column field='Open Price' dataType="number" [formatter]="formatCurrency" [movable]="true" [sortable]="true"
            [cellClasses]="trends">
            <ng-template igxCell let-cell="cell">
                <div class="finjs-icons">
                    <span>{{cell.value | currency:'USD':'symbol':'1.4-4'}}</span>
                    <igx-icon *ngIf="trends.positive(cell.row.rowData)">trending_up</igx-icon>
                    <igx-icon *ngIf="trends.negative(cell.row.rowData)">trending_down</igx-icon>
                </div>
            </ng-template>
        </igx-column>

        <igx-column field='Buy' [cellClasses]="trendsChange" [width]="'110px'" dataType="number"
            [formatter]="formatCurrency" [movable]="true" [sortable]="true"></igx-column>

        <igx-column field='Start(Y)' [width]="'200px'" dataType="number" [formatter]="formatCurrency" [movable]="true"
            [sortable]="true" [cellClasses]="trendsOnYear">
        </igx-column>
        <igx-column field='High(Y)' [width]="'200px'" dataType="number" [formatter]="formatCurrency" [movable]="true"
            [sortable]="true" [cellClasses]="trendsOnYear">
        </igx-column>

        <igx-column field='Low(Y)' [width]="'200px'" dataType="number" [formatter]="formatCurrency" [movable]="true"
            [sortable]="true" [cellClasses]="trendsOnYear">
        </igx-column>
        <igx-column field='High(D)' [width]="'120px'" dataType="number" [headerClasses]="'headerAlignSyle'"
            [sortable]="true" [cellClasses]="trendsChange" [formatter]="formatCurrency" [movable]="true">
        </igx-column>

        <igx-column field='Low(D)' [width]="'150px'" dataType="number" [formatter]="formatCurrency" [movable]="true"
            [sortable]="true" [cellClasses]="trendsChange">
        </igx-column>
        <igx-column field='Sell' [cellClasses]="trendsChange" [width]="'110px'" dataType="number"
        [formatter]="formatCurrency" [movable]="true" [sortable]="true"></igx-column>
    </igx-grid>
</div>

<igx-dialog class="chart-dialog" [closeOnOutsideSelect]="true">
 <div class="selection-area">
    <div class="chart-area">
        <ng-template chartHost></ng-template>
    </div>
    <div class="chart-config-area">
        <igx-tabs>
            <igx-tabs-group label="Type Settings" icon="insert_chart">
                <div *ngFor="let chartType of chartTypes">
                    <div style="text-align: center">{{chartType | uppercase}}</div>
                    <div style="display: inline-flex">
                        <button igxButton="raised" (mouseenter)="createChart(chart)" *ngFor="let chart of (chartType | getChartArgs); trackBy: trackByFn">{{chart.seriesType}}</button>
                    </div>
                </div>
                <div>
                        <div style="text-align: center">{{'doughnut' | uppercase}}</div>
                    <div style="text-align: center">
                        <button igxButton="flat" (click)="changeChart('doughnut', null, null, null)"><igx-icon class="icon" style="font-size: 20px" fontSet="material">donut_small</igx-icon></button>
                    </div>
                </div>
                <div >
                    <div style="text-align: center">{{'pie' | uppercase}}</div>
                    <div style="text-align: center">
                        <button igxButton="flat" (click)="changeChart('pie', null, null, null)"><igx-icon class="icon" style="font-size: 20px" fontSet="material">pie_chart</igx-icon></button>
                    </div>
                </div>
            </igx-tabs-group>
        </igx-tabs>
    </div>
 </div>
</igx-dialog>

<div *ngIf="contextmenu === true">
    <context-menu [x]="contextmenuX" [y]="contextmenuY" [cell]="clickedCell" [multiSelection]="gridDataSelection.length > 1"
        (onChartSelected)="createChart($event)">
    </context-menu>
</div>
