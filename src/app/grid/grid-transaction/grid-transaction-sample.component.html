<div class="sample-wrapper">
    <app-grid-with-transactions>
        <igx-grid #gridRowEditTransaction [data]="data" [primaryKey]="'ProductID'" width="100%" height="500px"
            [rowEditable]="true">
            <igx-column [pinned]="true">
                <ng-template igxCell let-cell="cell" let-val>
                    <button igxButton (click)="deleteRow($event, 'gridRowEditTransaction', cell.cellID.rowID)">Delete</button>
                </ng-template>
            </igx-column>
            <igx-column field="ProductID" header="Product ID" [pinned]="true"></igx-column>
            <igx-column field="ProductName" header="Product Name" [dataType]="'string'" [filterable]="true" [sortable]="true"
                [pinned]="true"></igx-column>
            <igx-column field="UnitPrice" header="Unit Price" [dataType]="'string'" [filterable]="true" [sortable]="true"></igx-column>
            <igx-column field="UnitsOnOrder" header="Units On Order" [dataType]="'number'" [editable]="false"></igx-column>
            <igx-column field="UnitsInStock" header="Units In Stock" [dataType]="'number'" [filterable]="true"
                [sortable]="true">
                <ng-template igxCellEditor let-cell="cell">
                    <input name="units" [(ngModel)]="cell.gridAPI.get_cell_inEditMode(cell.gridID).cell.editValue"
                        style="color: black; width: 30px;" />
                </ng-template>
            </igx-column>
            <igx-column field="QuantityPerUnit" header="Quantity Per Unit" [dataType]="'string'"></igx-column>
            <igx-column field="ReorderLevel" header="Reorder Level" [dataType]="'number'"></igx-column>
            <igx-column field="SupplierID" header="Supplier ID" [dataType]="'number'" [editable]="false"></igx-column>
            <igx-column field="Discontinued" header="Discontinued" [dataType]="'boolean'" [pinned]="true"></igx-column>
        </igx-grid>
    </app-grid-with-transactions>
    <div class="buttons-wrapper">
        <button igxButton (click)="addRow('gridRowEditTransaction')">Add Row</button>
        <div class="transaction-buttons-wrapper">
            <button igxButton [disabled]="!undoEnabled" (click)="undo('gridRowEditTransaction')">Undo</button>
            <button igxButton [disabled]="!redoEnabled" (click)="redo('gridRowEditTransaction')">Redo</button>
            <button igxButton [disabled]="!hasTransactions" (click)="openCommitDialog('gridRowEditTransaction')">Commit</button>
        </div>
    </div>
    <div igxToggle class="dialog__container">
        <div class="dialog__header">Submit the following transactions?</div>
        <div class="dialog__body">
            <igx-grid #dialogGrid [data]="gridRowEditTransaction.transactions.aggregatedState(true)" [primaryKey]="'id'"
                width="600px" height="300px" [emptyGridMessage]="'No available transactions'">
                <igx-column field="id" header="ID" [dataType]="'string'" width="100px"></igx-column>
                <igx-column field="type" header="Type" width="150px" [sortable]="true">
                    <ng-template igxCell let-cell="cell" let-val>
                        <span [class]="classFromType(val)">{{ typeFormatter(val) }}</span>
                    </ng-template>
                </igx-column>
                <igx-column field="newValue" header="Value" width="1000px" [formatter]="stateFormatter">
                </igx-column>
            </igx-grid>
        </div>
        <div class="dialog__buttons">
            <button igxButton (click)="commit()">Commit</button>
            <button igxButton (click)="discard()">Discard</button>
            <button igxButton (click)="cancel()">Cancel</button>
        </div>
    </div>
</div>